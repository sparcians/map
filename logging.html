<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>The Sparta Modeling Framework: Textual Message Logging</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">The Sparta Modeling Framework
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('logging.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Textual Message Logging</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Sparta includes a mechanism for generating textual messages that can be configurably directed to various output files to generate a textual trace of the state or events inside a simulation.</p>
<p>This page details the modeling view of the logging system - that is, how log messages are emitted</p>
<h1><a class="anchor" id="logging_goals"></a>
Logging System Goals</h1>
<p>The Sparta logging feature exists to allow model and simulator owners to generate free-form messages of a certain 'category' from a specific point within a device tree. Each log message should be filterable by its category and origin by end-users of the simulator. Users should also have the ability to redirect log messages to any number of output files including stdout/stderr based on log message origin and category. This allows users to selectively log messages from specific subsections of the simulated system at various levels. Thus, a single simulation run can produce many log files containing any combination of messages depending on user configuration.</p>
<h1><a class="anchor" id="log_des_reqs"></a>
Logging System Design Requirements</h1>
<ol type="1">
<li>Associate Log messages with a single node in a device tree</li>
<li>Associate Log messages with one or more category strings (e.g. "info", "debug", "warning")</li>
<li>Itentify, before simulator finalization, what log categories a simulation is capable of generating</li>
<li>Allow the user-configurable routing of log messages generated by a simulation to a specific set of files and/or standard streams based on the origin and category of each message.</li>
</ol>
<ul>
<li>This should never cause duplicate messages in the same file/stream</li>
<li>A client of the simulator should not be able to interfere with another's log observeration</li>
</ul>
<ol type="1">
<li>Minimize performance cost of logging infrastructure when logging is disabled</li>
</ol>
<h1><a class="anchor" id="logg_concept_usage"></a>
Conceptual Usage</h1>
<h2><a class="anchor" id="scoped_log"></a>
Scoped Logging</h2>
<p>Scoped logging refers to logging message originating at a specific node in the simulation's device tree. This is the preferred means of logging as it allows log messages to be filtered by their origin. Additionaly, models generating log messages can determine if anything is observing its messages and avoid wasting time performing expensive string formatting if not</p>
<h5>Scoped Logging Usage</h5>
<ol type="1">
<li>A <a class="el" href="classsparta_1_1TreeNode.html" title="Node in a composite tree representing a sparta Tree item.">sparta::TreeNode</a> must exist in a sparta device tree which will represent the context (origin) of the log message. See trees. This will typically be either a plain <a class="el" href="classsparta_1_1TreeNode.html" title="Node in a composite tree representing a sparta Tree item.">sparta::TreeNode</a> or <a class="el" href="classsparta_1_1ResourceTreeNode.html" title="TreeNode subclass representing a node in the device tree which contains a single ResourceFactory and ...">sparta::ResourceTreeNode</a></li>
<li>A <a class="el" href="classsparta_1_1log_1_1MessageSource.html" title="Message source object associated with a sparta TreeNode through which messages can be sent.">sparta::log::MessageSource</a> must be constructed as a child node of the context above. This must be done before the sparta finalization phase.</li>
<li>At any time, a message may be posted to this message source and if the logging infrastructure is observing this notification sourece or its parent of any number of generations, then that message will end up in a log file or standard stream.</li>
</ol>
<p>Control of log message routing is described in the <a class="el" href="#log_capturing">Capturing Log Messages</a> section</p>
<h2><a class="anchor" id="global_log"></a>
Global Logging</h2>
<p>Occasionally, a log message will be generated by some component that is not part of the simulator proper. Though this is very rare, singletons and other globally scoped infrastructure may not allow themselves to be integrated into a sparta device tree. Therefore it is possible to log through a global node instead of a location within the device tree.</p>
<p>Control of log message routing is described in the <a class="el" href="#log_capturing">Capturing Log Messages</a> section</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;sparta/log/MessageSource.hpp&quot;</span></div>
<div class="line">...</div>
<div class="line">sparta::log::MessageSource::getGlobalWarn() &lt;&lt; <span class="stringliteral">&quot;global warning message&quot;</span>;</div>
<div class="line"><a class="code hl_function" href="classsparta_1_1log_1_1MessageSource.html#a057b16c58d2318562216d097021339ad">sparta::log::MessageSource::getGlobalDebug</a>() &lt;&lt; <span class="stringliteral">&quot;global debug message&quot;</span>;</div>
<div class="ttc" id="aclasssparta_1_1log_1_1MessageSource_html_a057b16c58d2318562216d097021339ad"><div class="ttname"><a href="classsparta_1_1log_1_1MessageSource.html#a057b16c58d2318562216d097021339ad">sparta::log::MessageSource::getGlobalDebug</a></div><div class="ttdeci">static MessageSource &amp; getGlobalDebug()</div><div class="ttdoc">Gets the global warning logger. These are global-level debugging messages from the SPARTA framework.</div></div>
</div><!-- fragment --><h1><a class="anchor" id="log_capturing"></a>
Capturing Log Messages</h1>
<p>Control of how log messages are filtered and routed to destination log files/streams is covered (at a low level) in the taps section. However, the <a class="el" href="classsparta_1_1app_1_1CommandLineSimulator.html" title="Command line simulator front-end class with argument parsing Works in conjunction with sparta::app::S...">sparta::app::CommandLineSimulator</a> and <a class="el" href="classsparta_1_1app_1_1Simulation.html" title="Simulator which builds a sparta DeviceTree.">sparta::app::Simulation</a> classes assist in setting up log message observation, routing, and formatting based on command line options or manually. The <a class="el" href="common_cmdline.html">Command Command Line Interface</a> section covers this.</p>
<h1><a class="anchor" id="log_usage_notes"></a>
Usage Notes</h1>
<ol type="1">
<li>Errors should generally not be captured in the log system</li>
</ol>
<h1><a class="anchor" id="log_impl_notes"></a>
Implementation Notes</h1>
<ol type="1">
<li>The logging system is built on the sparta notification_generation system. </li>
</ol>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Aug 22 2025 17:16:11 for The Sparta Modeling Framework by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
