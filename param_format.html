<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>The Sparta Modeling Framework: Parameter/Configuration Format (.cfg,.yaml)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">The Sparta Modeling Framework
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('param_format.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Parameter/Configuration Format (.cfg,.yaml)</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This page describes the grammar and usage of a sparta parameter file.</p>
<p>Configuration files are a subset of YAML (<a href="http://www.yaml.org/spec/1.2/spec.html">spec v1.2</a>) used to assign values to parameters in a Sparta TreeNode hierarchy (<a class="el" href="classsparta_1_1TreeNode.html">sparta::TreeNode</a>). The format is simple: a typical YAML file consists of nested YAML maps which describe how the device tree is traversed to assign parameters. Each key within these maps represents a relative path in the device tree. Each value can be another map (implying descent deeper into the tree) or a value to assign to the location indicated by the key. These leaf values are either a scalar (e.g. string, integer) or a sequence (of strings, integers, other vectors, etc.)</p>
<p>Configuration files are typically applied at the global namespace in the device tree (above the "top" object).</p>
<p>This example shows a very simple usage of parameter files. Note that block-style maps in YAML are indicated by "key: value" syntax and that the value can be an additional, nested map.</p>
<div class="fragment"><div class="line"><span class="preprocessor"># YAML comment. Lost during interpretation</span></div>
<div class="line">top:</div>
<div class="line">   a:</div>
<div class="line">     params:</div>
<div class="line">        param1: 1</div>
<div class="line">        param2: foo</div>
</div><!-- fragment --><p>This tree assigns values <code>1</code> and <code>foo</code> to the <a class="el" href="classsparta_1_1Parameter.html" title="Parameter instance, templated to contain only a specific type.">sparta::Parameter</a> nodes located at <code>top.a.params.param1</code> and <code>top.a.params.param2</code> respectively. It is up to the <a class="el" href="classsparta_1_1Parameter.html" title="Parameter instance, templated to contain only a specific type.">sparta::Parameter</a> objets to interpret the value as a native type instead of a string (if necessary).</p>
<p>Note that multiple levels in the tree can be specified in one mapping key. The previous configuration file can be rewritten as:</p>
<div class="fragment"><div class="line">top.a.params:</div>
<div class="line">   param1: 1</div>
<div class="line">   param2: foo</div>
</div><!-- fragment --><p>For <a class="el" href="classsparta_1_1Parameter.html" title="Parameter instance, templated to contain only a specific type.">sparta::Parameter</a>'s which are vectors (or nested vectors), YAML in-line sequence syntax can be used to represent the value.</p>
<div class="fragment"><div class="line">top.a.params:</div>
<div class="line">   one_dimension_vec_param: [1,2,3,4,5]  # This can be read by a 1-dimensional vector parameter</div>
<div class="line">   two_dimension_vec_param: [[1],[2,3,4]]  # This can be read by a 2-dimensional vector parameter</div>
</div><!-- fragment --><p>It is also important that YAML keys and values cannot begin with '*' or '?' and must not contain '#', ':', '{', or '}' characters without putting the entire string in quotes.</p>
<h1><a class="anchor" id="param_format_nesting"></a>
Nesting</h1>
<p>It is often useful to nest configuration files. For example if a simualtor contains repeating hierarchies, one configuration file can be used for each level. Using the reserved <b>include</b> key allows a configuration file to specify that another configuration file should be applied at that context. At this time, the second configuration file is expected to be a relative path to the currently-parsed config file.</p>
<p>Consider </p><div class="fragment"><div class="line"><span class="preprocessor"># top_a.yaml</span></div>
<div class="line">top:</div>
<div class="line">   a.params:</div>
<div class="line">      a_param_1: 1</div>
<div class="line">      a_param_2: 2</div>
<div class="line">   b:</div>
<div class="line">      include: b.yaml # Applies b.yaml configuration in <span class="keyword">this</span> context (top.b)</div>
</div><!-- fragment --><div class="fragment"><div class="line"><span class="preprocessor"># b.yaml</span></div>
<div class="line"><span class="preprocessor"># To be applied at top.b</span></div>
<div class="line">params:</div>
<div class="line">   b_param_1: 1 # Assigns <span class="stringliteral">&quot;1&quot;</span> to top.b.params.b_param_1</div>
<div class="line">   b_param_2: 2</div>
</div><!-- fragment --><p>Note that "#include" or "include" can be used as the key. If the former is used, double-quotes are required to prevent it from being interpreted as YAML comment.</p>
<h1><a class="anchor" id="param_format_attributes"></a>
Parameter Assignment Attributes and Optional Parameters</h1>
<p>Attributes can be assigned to parameters specified in configuration files that dictate how those parameters values are applied.</p>
<p>Following normal configuration file syntax, parameter-assignment attributes can be attached to a parameter using a value "&lt;ATTRIBUTE&gt;" (where ATTRIBUTE is some meaningful attribute name) as if it were a typical value being assigned to a parameter. These attribute names are <b>case-sensitive</b>. </p><div class="fragment"><div class="line">top.foo.params:</div>
<div class="line">    myparam: &lt;ATTRIBUTE&gt;</div>
</div><!-- fragment --><p>Parameter paths which include wildcards are welcome. Additional value-assignments of parameters following the attribute assignment may modify or remove the attribute depending on the specific attribute.</p>
<p><b>Optional Parameters</b><br  />
 A parameter specified in a configuration file can be modified so that the simulator suppresses the error that would otherwise occur if the node referred to did not actually exist in the simulated device tree.</p>
<p>By assigning "&lt;OPTIONAL&gt;" as a value for the chosen parameter(s), the user prevent errors if that/those parameters are missing from the simulation tree.</p>
<div class="fragment"><div class="line">top.foo.params:</div>
<div class="line">   param_that_does_not_exist: 12345</div>
<div class="line">   param_that_does_not_exist: &lt;OPTIONAL&gt;</div>
</div><!-- fragment --><p>With this, a user can inherit from other configuration files even if those files contain parameters which do not always exist or do not ever exist in the simulated tree for which the inheriting configuration file is intended. For example, if a configuration file for version 1 of some system included a subcomponent that version 2 did not have, version 2 could still inherit from configuration files for version 1 by marking certain inapplicable parameters from the version 1 file as optional. </p><div class="fragment"><div class="line">top:</div>
<div class="line">   core*:</div>
<div class="line">      version_1_component:</div>
<div class="line">         params:</div>
<div class="line">            <span class="stringliteral">&quot;*&quot;</span>: &lt;OPTIONAL&gt;</div>
</div><!-- fragment --><p>This can also be used to generalize parameter files by assigning values using overly-broad paths using wildcards and and then mark a few exceptions to the the pattern as optional.</p>
<h1><a class="anchor" id="param_format_examples"></a>
Examples</h1>
<p>This example shows a variety of ways parameters can be set in a configuration file: </p><div class="fragment"><div class="line"><span class="stringliteral">&quot;// Sparta cfg file comment&quot;</span>: <span class="stringliteral">&quot;value of comment“ # Eventually, comments like these may be reprocuded in config file output a Sparta simulator</span></div>
<div class="line"><span class="stringliteral">&quot;</span><span class="comment">//a.params.param1&quot;: 1 # Interpreted as commented line</span></div>
<div class="line"><span class="stringliteral">&quot;//&quot;</span>: <span class="stringliteral">&quot;this is a test device tree configuration file&quot;</span></div>
<div class="line">top:</div>
<div class="line">   a:</div>
<div class="line">     params:</div>
<div class="line">     param1: 12</div>
<div class="line"> </div>
<div class="line">top.a:</div>
<div class="line">  <span class="stringliteral">&quot;b&quot;</span>:</div>
<div class="line">   {</div>
<div class="line">      <span class="stringliteral">&quot;params.param1&quot;</span>: 56,</div>
<div class="line">      <span class="stringliteral">&quot;params&quot;</span>: {</div>
<div class="line">           <span class="stringliteral">&quot;#include&quot;</span> : <span class="stringliteral">&quot;test_other.yaml&quot;</span></div>
<div class="line">      }</div>
<div class="line">   }</div>
<div class="line">   params:</div>
<div class="line">     <span class="stringliteral">&quot;param5&quot;</span>:   [1.0, 1.1, 2, 3, 5.5]</div>
<div class="line">     <span class="stringliteral">&quot;param6&quot;</span>: <span class="stringliteral">&quot;0xdeadbeef&quot;</span></div>
<div class="line">     param7: <span class="stringliteral">&quot;070&quot;</span></div>
<div class="line">     param8: [0xa1, 0xb2, 0xc3]</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">     # This is a comment that will be lost</span></div>
<div class="line"><span class="stringliteral">&quot;top.a.params.param2&quot;</span>: 34</div>
<div class="line"><span class="stringliteral">&quot;top.a.params.param3&quot;</span>: |</div>
<div class="line">    [5,6,7,8]</div>
<div class="line">top.a.params.param9 : <span class="keywordtype">string</span> with spaces</div>
<div class="line"><span class="stringliteral">&quot;// block comment&quot;</span>:</div>
<div class="line">{</div>
<div class="line"><span class="preprocessor">    # This is all ignored because the key associated with this mapping begins with &quot;//&quot;</span></div>
<div class="line">     <span class="stringliteral">&quot;a.paramsnonexistant_param&quot;</span>: <span class="keyword">false</span>,</div>
<div class="line">     <span class="stringliteral">&quot;b&quot;</span>: {</div>
<div class="line">        params.nonexistant_param<span class="stringliteral">&quot;: false</span></div>
<div class="line"><span class="stringliteral">     }</span></div>
<div class="line"><span class="stringliteral"> }</span></div>
</div><!-- fragment --><p>It is up to the user to identify the types of each parameter. This can most easily done by automatically generating a configuration file containing the simulator's default configuration and then modifying this file. See <a class="el" href="end_user.html#ctrl_cfg_parameters">2.1 Parameters</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Aug 22 2025 17:16:11 for The Sparta Modeling Framework by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
