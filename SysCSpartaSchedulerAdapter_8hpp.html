<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>The Sparta Modeling Framework: /github/workspace/sparta/sparta/utils/SysCSpartaSchedulerAdapter.hpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">The Sparta Modeling Framework
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('SysCSpartaSchedulerAdapter_8hpp.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#namespaces">Namespaces</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">SysCSpartaSchedulerAdapter.hpp File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Glue code that connect the Sparta scheduler to SystemC.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;climits&gt;</code><br />
<code>#include &quot;<a class="el" href="Scheduler_8hpp_source.html">sparta/kernel/Scheduler.hpp</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Event_8hpp_source.html">sparta/events/Event.hpp</a>&quot;</code><br />
<code>#include &quot;sysc/kernel/sc_event.h&quot;</code><br />
<code>#include &quot;sysc/kernel/sc_time.h&quot;</code><br />
<code>#include &quot;sysc/kernel/sc_module.h&quot;</code><br />
<code>#include &quot;sysc/communication/sc_clock.h&quot;</code><br />
</div>
<p><a href="SysCSpartaSchedulerAdapter_8hpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsparta_1_1SysCSpartaSchedulerAdapter.html">sparta::SysCSpartaSchedulerAdapter</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Class that "connects" Sparta to SystemC.  <a href="classsparta_1_1SysCSpartaSchedulerAdapter.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="namespaces" name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesparta.html">sparta</a></td></tr>
<tr class="memdesc:namespacesparta"><td class="mdescLeft">&#160;</td><td class="mdescRight">Macros for handling exponential backoff. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a23f5fee4677e0d6951bc6cbda7371733" id="r_a23f5fee4677e0d6951bc6cbda7371733"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a23f5fee4677e0d6951bc6cbda7371733">SC_SPARTA_SCHEDULER_NAME</a>&#160;&#160;&#160;&quot;SysCSpartaSchedulerAdapter&quot;</td></tr>
<tr class="separator:a23f5fee4677e0d6951bc6cbda7371733"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13013e31785e8346933646f6ad6b976e" id="r_a13013e31785e8346933646f6ad6b976e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a13013e31785e8346933646f6ad6b976e">SC_SPARTA_STOP_EVENT_NAME</a>&#160;&#160;&#160;&quot;sc_ev_stop_simulation&quot;</td></tr>
<tr class="separator:a13013e31785e8346933646f6ad6b976e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae293839df861fb67d758b2d473ec2821" id="r_ae293839df861fb67d758b2d473ec2821"><td class="memItemLeft" align="right" valign="top">Clock::Cycle&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae293839df861fb67d758b2d473ec2821">sparta::sparta_sysc_utils::calculateSpartaOffset</a> (const <a class="el" href="classsparta_1_1Clock.html">sparta::Clock</a> *sparta_clk, sc_core::sc_time::value_type sysc_offset)</td></tr>
<tr class="separator:ae293839df861fb67d758b2d473ec2821"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Glue code that connect the Sparta scheduler to SystemC. </p>

<p class="definition">Definition in file <a class="el" href="SysCSpartaSchedulerAdapter_8hpp_source.html">SysCSpartaSchedulerAdapter.hpp</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a23f5fee4677e0d6951bc6cbda7371733" name="a23f5fee4677e0d6951bc6cbda7371733"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23f5fee4677e0d6951bc6cbda7371733">&#9670;&#160;</a></span>SC_SPARTA_SCHEDULER_NAME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SC_SPARTA_SCHEDULER_NAME&#160;&#160;&#160;&quot;SysCSpartaSchedulerAdapter&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The name of the scheduler adapter </p>

<p class="definition">Definition at line <a class="el" href="SysCSpartaSchedulerAdapter_8hpp_source.html#l00096">96</a> of file <a class="el" href="SysCSpartaSchedulerAdapter_8hpp_source.html">SysCSpartaSchedulerAdapter.hpp</a>.</p>

</div>
</div>
<a id="a13013e31785e8346933646f6ad6b976e" name="a13013e31785e8346933646f6ad6b976e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13013e31785e8346933646f6ad6b976e">&#9670;&#160;</a></span>SC_SPARTA_STOP_EVENT_NAME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SC_SPARTA_STOP_EVENT_NAME&#160;&#160;&#160;&quot;sc_ev_stop_simulation&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The name of the SystemC event used to stop simulation </p>

<p class="definition">Definition at line <a class="el" href="SysCSpartaSchedulerAdapter_8hpp_source.html#l00100">100</a> of file <a class="el" href="SysCSpartaSchedulerAdapter_8hpp_source.html">SysCSpartaSchedulerAdapter.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ae293839df861fb67d758b2d473ec2821" name="ae293839df861fb67d758b2d473ec2821"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae293839df861fb67d758b2d473ec2821">&#9670;&#160;</a></span>calculateSpartaOffset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Clock::Cycle sparta::sparta_sysc_utils::calculateSpartaOffset </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classsparta_1_1Clock.html">sparta::Clock</a> *</td>          <td class="paramname"><span class="paramname"><em>sparta_clk</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sc_core::sc_time::value_type</td>          <td class="paramname"><span class="paramname"><em>sysc_offset</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Utility to convert SystemC time to Sparta time for scheduling events/sending data across ports</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sparta_clk</td><td>The Clock to use for the conversion </td></tr>
    <tr><td class="paramname">sysc_offset</td><td>The SystemC offset to convert </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The sparta::Clock::Cycle that be used to schedule an event/send data</dd></dl>
<p>Since the Sparta scheduler is not re-entrant at the current tick, we might need to stop forward progress and report an issue (currently not doing this). Reason for this:</p>
<ol type="1">
<li>Scheduling advancement is toggled between SysC and Sparta. SysC advances first, the Sparta. The expectation is that all events on the Sparta scheduler have been scheduled from the SysC side and that nothing new (0-cycle) will appear</li>
<li>When the Sparta scheduler is finished with its current time quantum (return from the call to Scheduler::run), it will assume time is not advanced by 1 tick. In other words, time for scheduling anything <em>this</em> tick is now oever. Scheduling something 0-cycle (or 0-tick) is meaningless. </li>
</ol>

<p class="definition">Definition at line <a class="el" href="SysCSpartaSchedulerAdapter_8hpp_source.html#l00056">56</a> of file <a class="el" href="SysCSpartaSchedulerAdapter_8hpp_source.html">SysCSpartaSchedulerAdapter.hpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="SysCSpartaSchedulerAdapter_8hpp_ae293839df861fb67d758b2d473ec2821_cgraph.png" border="0" usemap="#aSysCSpartaSchedulerAdapter_8hpp_ae293839df861fb67d758b2d473ec2821_cgraph" alt=""/></div>
<map name="aSysCSpartaSchedulerAdapter_8hpp_ae293839df861fb67d758b2d473ec2821_cgraph" id="aSysCSpartaSchedulerAdapter_8hpp_ae293839df861fb67d758b2d473ec2821_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,189,70"/>
<area shape="poly" title=" " alt="" coords="54,29,52,19,59,10,74,5,97,3,122,5,136,11,134,16,120,10,97,8,75,10,62,15,57,21,59,28"/>
<area shape="rect" href="classsparta_1_1Clock.html#aa2d29cba2726bcc43077de19218307ff" title=" " alt="" coords="237,8,415,33"/>
<area shape="poly" title=" " alt="" coords="189,35,221,31,221,36,189,41"/>
<area shape="rect" href="classsparta_1_1Scheduler.html#a4f78a423a6092f3b22cb16d1a352ad6d" title="Query if the scheduler is running." alt="" coords="262,57,390,98"/>
<area shape="poly" title=" " alt="" coords="189,58,247,65,246,71,189,64"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_8b51add0bc6ff831487a715a42aa15b5.html">sparta</a></li><li class="navelem"><a class="el" href="dir_538f46becf9f81566841c79369e25095.html">utils</a></li><li class="navelem"><a class="el" href="SysCSpartaSchedulerAdapter_8hpp.html">SysCSpartaSchedulerAdapter.hpp</a></li>
    <li class="footer">Generated on Fri Aug 22 2025 17:16:11 for The Sparta Modeling Framework by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
